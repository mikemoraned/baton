.qrcode .cell {
  animation-duration: 5s;
  animation-fill-mode: forwards;
  animation-timing-function: ease-in-out;
}

.qrcode:hover .cell {
  animation-play-state: paused;
}

@mixin define-cell-animation($x, $y, $delay) {
  .cell.to-x#{$x}.to-y#{$y} {
    animation-name: move-to-x#{$x}, move-to-y#{$y};
    animation-delay: #{$delay};

    &.to-filled {
      animation-name: move-to-x#{$x}, move-to-y#{$y}, to-filled;
    }

    &.to-empty {
      animation-name: move-to-x#{$x}, move-to-y#{$y}, to-empty;
    }
  }
}

@mixin define-move-to-x-keyframe($x) {
  $rand1: random();
  $rand2: random();
  @keyframes move-to-x#{$x} {
    50% {
      left: -1 * $rand1 * 10px;
    }

    75% {
      left: -1 * $rand2 * 20px;
    }

    to {
      left: $x * 90px;
    }
  }
}

@mixin define-move-to-y-keyframe($y) {
  $rand1: random();
  $rand2: random();
  @keyframes move-to-y#{$y} {
    50% {
      top: -1 * $rand1 * 10px;
    }

    75% {
      top: -1 * $rand2 * 20px;
    }

    to {
      top: $y * 90px;
    }
  }
}

$width: 3;
$height: 3;
$delay: 0;
$delay_inc: 0.1;
@for $x from 0 to $width {
  @for $y from 0 to $height {
    @include define-cell-animation($x, $y, "#{$delay}s");
    $delay: $delay + $delay_inc;
  }
}
@for $x from 0 to $width {
  @include define-move-to-x-keyframe($x);
}
@for $y from 0 to $height {
  @include define-move-to-y-keyframe($y);
}

@keyframes to-filled {
  to {
    background-color: black;
    opacity: 1;
  }
}

@keyframes to-empty {
  to {
    background-color: white;
    opacity: 0;
  }
}

// @keyframes move-to-x0 {
//   50% {
//     left: -10px;
//   }

//   75% {
//     left: -20px;
//   }

//   to {
//     left: 0px;
//   }
// }

// @keyframes move-to-x1 {
//   50% {
//     left: 10px;
//   }

//   75% {
//     left: 20px;
//   }

//   to {
//     left: 90px;
//   }
// }

// @keyframes move-to-x2 {
//   50% {
//     left: 200px;
//   }

//   75% {
//     left: 190px;
//   }

//   to {
//     left: 180px;
//   }
// }

// @keyframes move-to-y0 {
//   50% {
//     top: -3px;
//   }

//   75% {
//     top: -20px;
//   }

//   to {
//     top: 0px;
//   }
// }

// @keyframes move-to-y1 {
//   50% {
//     top: 50px;
//   }

//   75% {
//     top: 100px;
//   }

//   to {
//     top: 90px;
//   }
// }

// @keyframes move-to-y2 {
//   50% {
//     top: 111px;
//   }

//   75% {
//     top: 189px;
//   }

//   to {
//     top: 180px;
//   }
// }
